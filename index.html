<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ENDFIELD_GEAR_LIBRARY</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://sql.js.org/dist/sql-wasm.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;900&family=Inter:ital,wght@1,900&display=swap');

        :root {
            --ef-yellow: #ffcf00;
            --ef-bg: #ffffff;
            --ef-grid: rgba(0, 0, 0, 0.05);
        }

        body {
            background-color: var(--ef-bg);
            color: #000;
            font-family: 'Noto Sans TC', sans-serif;
            /* 官網風格動態網格 */
            background-image: radial-gradient(var(--ef-grid) 1px, transparent 0);
            background-size: 30px 30px;
            overflow-x: hidden;
        }

        /* 移除點擊藍色高亮 */
        * { -webkit-tap-highlight-color: transparent; outline: none; }

        /* 自定義模擬選單：解決藍色問題 */
        .ef-select {
            position: relative;
            background: #f4f4f4;
            border-bottom: 2px solid #000;
            cursor: pointer;
            height: 48px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            font-weight: 900;
            font-size: 14px;
            transition: all 0.3s;
        }
        .ef-select:hover { background: #ebebeb; }
        .ef-select::after {
            content: ""; position: absolute; right: 15px;
            width: 0; height: 0; border-left: 5px solid transparent;
            border-right: 5px solid transparent; border-top: 5px solid #000;
        }

        .ef-options-box {
            position: absolute; top: 100%; left: 0; right: 0;
            background: #fff; border: 2px solid #000;
            z-index: 100; display: none;
            max-height: 250px; overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .ef-opt {
            padding: 12px 15px; font-size: 13px; font-weight: 500;
            border-bottom: 1px solid #f0f0f0; transition: 0.2s;
        }
        .ef-opt:hover { background: var(--ef-yellow); color: #000; }

        /* 裝備卡片：官網精緻版 */
        .gear-card {
            background: #fff;
            border: 1px solid #eeeeee;
            transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        }
        .gear-card:hover {
            transform: translateY(-8px);
            border-color: #000;
            box-shadow: 0 15px 35px rgba(0,0,0,0.08);
        }

        /* 官網標誌性斜體字 */
        .ef-italic { font-family: 'Inter', sans-serif; font-style: italic; font-weight: 900; }

        /* 載入動畫層 */
        #boot-screen {
            position: fixed; inset: 0; background: #fff; z-index: 999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .boot-bar { width: 120px; height: 2px; background: #eee; position: relative; }
        .boot-progress { position: absolute; left: 0; height: 100%; background: #000; width: 0%; transition: 0.5s; }

        /* 手機適配調優 */
        @media (max-width: 640px) {
            .gear-grid { gap: 12px !important; }
            .stat-label { font-size: 8px !important; }
            .stat-val { font-size: 11px !important; }
        }
    </style>
</head>
<body class="p-4 md:p-10">

    <div id="boot-screen">
        <div class="boot-bar"><div id="boot-progress" class="boot-progress"></div></div>
        <p class="mt-4 text-[9px] tracking-[0.4em] font-black uppercase text-zinc-400">System_Loading...</p>
    </div>

    <div class="max-w-7xl mx-auto">
        <header class="mb-10 animate__animated animate__fadeIn">
            <div class="flex items-center space-x-3 mb-4">
                <div class="bg-black text-white p-2 px-3 ef-italic text-2xl">E</div>
                <h1 class="text-3xl font-black ef-italic tracking-tighter uppercase">Endfield_Gear</h1>
            </div>
            <div class="flex justify-between items-end border-b-2 border-zinc-100 pb-4">
                <p class="text-[10px] text-zinc-400 font-bold uppercase tracking-[0.3em] leading-none">// Protocol_BiS_Search_Terminal</p>
                <button onclick="clearAll()" class="text-[10px] font-black uppercase tracking-widest hover:text-yellow-500 transition-colors">Reset_All</button>
            </div>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 animate__animated animate__fadeInUp">
            <div class="space-y-2">
                <span class="text-[9px] font-black text-zinc-400 uppercase tracking-widest ml-1">Base_Stat</span>
                <div class="ef-select" id="s-target-1" onclick="toggleDrop(1)">
                    <span id="s-val-1">-- SELECT --</span>
                    <div id="s-box-1" class="ef-options-box"></div>
                </div>
            </div>
            <div class="space-y-2">
                <span class="text-[9px] font-black text-zinc-400 uppercase tracking-widest ml-1">Sub_Stat</span>
                <div class="ef-select" id="s-target-2" onclick="toggleDrop(2)">
                    <span id="s-val-2">-- SELECT --</span>
                    <div id="s-box-2" class="ef-options-box"></div>
                </div>
            </div>
            <div class="space-y-2">
                <span class="text-[9px] font-black text-zinc-400 uppercase tracking-widest ml-1">Skill_Logic</span>
                <div class="ef-select" id="s-target-3" onclick="toggleDrop(3)">
                    <span id="s-val-3">-- SELECT --</span>
                    <div id="s-box-3" class="ef-options-box"></div>
                </div>
            </div>
        </div>

        <div id="result-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
